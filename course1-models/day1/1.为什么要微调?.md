## 为什么要微调？


一句话职责划分（非常重要）
| 手段                  | 解决的核心问题             |
| ------------------- | ------------------- |
| **Prompt**          | *“这一次你该怎么想、怎么做”*    |
| **RAG**             | *“你应该基于哪些外部事实来想”*   |
| **微调（Fine-tuning）** | *“你长期、默认、下意识是怎么想的”* |


所以：👉 微调不是“解决不知道”，而是“解决想法不对 / 风格不对 / 规则执行不稳定”。

### ✅ 什么时候：Prompt + RAG 已经“到极致”了？

你可以用下面这张自检清单来判断。

#### 1️⃣ Prompt 已经做到这些，但问题还在

- 有明确 角色、目标、约束、输出格式
- 有 few-shot / 模板化 Prompt
- 已经把“不要做什么”“一定要做什么”写得很清楚
- 改 Prompt 只能 缓解，但不能 根治

👉 说明：问题不是“这一次怎么说清楚”，而是模型本身不吃这套。

#### 2️⃣ RAG 已经做到这些，但结果仍不稳定

- 数据是 正确、权威、最新的
- 检索召回没问题（不是“找不到”，而是“看了也没照做”）
- 已经把文档明确塞进上下文（甚至高权重）

👉 说明：问题不是“不知道事实”，而是“不会按你的方式用事实”。

### ❌ 哪些问题「不应该」用微调（很关键）

很多团队在这里踩坑。

#### ❌ 情况 A：只是“缺数据 / 数据经常变”

- 公司知识库
- 实时政策 / 价格 / 库存
- 客户私有文档

👉 这是 RAG 的地盘，不是微调。

#### ❌ 情况 B：只是“这次任务指令复杂”

- 流程型任务
- 多步骤推理
- 一次性的新需求

👉 继续打磨 Prompt 或用 Agent，而不是微调。

### ✅ 那哪些情况，真的“该微调”了？

下面是非常典型、非常值得微调的 4 类场景：

#### ① 模型“思维方式”长期不对

比如：
- 明明给了规则，但它总是凭直觉乱推
- 你希望它像资深审计 / 医疗质控 / 法务那样保守
- 希望它默认拒绝、默认审慎、默认引用依据

👉 这是 prior（先验）问题，微调非常有效。

#### ② 输出风格 / 结构高度固定

比如：

- 客服回复必须符合公司 SOP
- 代码审查必须遵循内部规范
- 标注 / 分类 / 评估标准非常一致

👉 Prompt 能做到 70%，微调能做到 95%+ 稳定性。

#### ③ 规则很多，Prompt 写不下 / 太脆

- if-else 规则爆炸
- Prompt 稍微一改就崩
- 不同人写 Prompt，效果差异极大

👉 微调可以把规则“内化”成模型行为。

#### ④ 希望“少 Prompt / 低 token / 高一致性”

比如：

- 调用频繁、成本敏感
- 不希望每次都塞长 Prompt
- 希望模型“默认就懂”

👉 微调 = 把 Prompt 变成模型的“肌肉记忆”。

### 🔑 一个非常实用的判断公式

你可以用这个来给团队对齐共识：
- 问题 = 信息问题 → RAG
- 问题 = 指令问题 → Prompt / Agent
- 问题 = 行为习惯问题 → 微调

当你发现：不是“它不知道”，也不是“我没说清”，而是“它就是不按我想要的方式思考或输出”，这时微调才是正确答案。